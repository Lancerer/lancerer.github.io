<html>
<head>
  <title>Evernote Export</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/306921 (zh-CN, DDL); Windows/10.0.0 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="444"/>

<div>
<span><div><div><span style="font-size: 32px; color: rgb(255, 70, 53);">用户交互使用的控件以及Window：</span></div><div><font color="#FF4635"><span style="font-size: 32px;">windowManager：</span></font></div><div><span style="color: rgb(255, 70, 53); font-size: 32px;"> </span> <font style="font-size: 16pt;">  1.windowManager的使用：</font><br/></div><div><font style="font-size: 16pt;"><span>    </span><span>    windowManager总共有三个方法：addview（View view，LayoutPraams params）；updataViewLayout（View view，ViewGroup.LayoutParams params</span></font><span style="font-size: 16pt;">）; removeView(View view);分别代表添加，更新，删除view。下面是一个通过manager添加window的例子：</span></div><div><span style="font-size: 16pt;"><span>    </span><span>    </span><img src="用户交互使用的控件以及Window：_files/Image.png" type="image/png" data-filename="Image.png" style="font-size: 16pt;"/><br/></span></div><div><span style="font-size: 16pt;"><span>    </span><span>    </span><img src="用户交互使用的控件以及Window：_files/Image [1].png" type="image/png" data-filename="Image.png" style="font-size: 16pt;"/><br/></span></div><div><span style="font-size: 16pt;"><span>    2.WindowManager的内部机制：</span><br/></span></div><div><span style="font-size: 16pt;"><span><span>    </span><span>    </span><img src="用户交互使用的控件以及Window：_files/Image [2].png" type="image/png" data-filename="Image.png" style="font-size: 16pt;"/><br/></span></span></div><div><span style="font-size: 16pt;"><span>    3.window在各个view中的创建过程：view是android中国呈现使徒的方法，但是view不能的单独存在，必须依附在window这个抽象的概念上。所以有view的地方就有winddow</span></span></div><div><span style="font-size: 16pt;"><span><span>    </span><span>    （1）.Activity中window的创建过程：</span><br/></span></span></div><div><span style="font-size: 16pt;"><span><span>    Activity的window创建就在attach方法中：mWindow=PoilyManager.makeNewWindow(this);可以看出window是PoliyManager的makeNewWindow方法创建的，在Poliy类中有makeNewMindow（）方法，返回PhoneWindow（）window的实现类</span><br/></span></span></div><div><span style="font-size: 16pt;"><span><span>    </span><span>    </span><span>    </span><img src="用户交互使用的控件以及Window：_files/Image [3].png" type="image/png" data-filename="Image.png" style="font-size: 16pt;"/><br/></span></span></div><div><span style="font-size: 16pt;"><span><span>    </span><span>    activity视图主要是由setContentVIaew这个方法附属到Window上的：</span><br/></span></span></div><div><span style="font-size: 16pt;"><span><span>    </span><span>    </span><span>    </span><img src="用户交互使用的控件以及Window：_files/Image [4].png" type="image/png" data-filename="Image.png" style="font-size: 16pt;"/><br/></span></span></div><div><span style="font-size: 16pt;"><span><span>    </span><span>    他又将事情交给了winddow来处理：</span><br/></span></span></div><div><span style="font-size: 16pt;"><span><span>    </span><span>    </span><span>    <img src="用户交互使用的控件以及Window：_files/Image [5].png" type="image/png" data-filename="Image.png" style="font-size: 16pt;"/></span><br/></span></span></div><div><span style="font-size: 16pt;"><span><span>    </span><span>    2.Dialog的Window创建过程：</span><br/></span></span></div><div><span style="font-size: 16pt;"><span><span>    </span><span>    </span><span>    </span><span>  <img src="用户交互使用的控件以及Window：_files/Image [6].png" type="image/png" data-filename="Image.png" style="font-size: 16pt;"/></span><br/></span></span></div><div><span style="font-size: 16pt;"><span><span>    </span><span>    </span><span>    <img src="用户交互使用的控件以及Window：_files/Image [7].png" type="image/png" data-filename="Image.png" style="font-size: 16pt;"/></span><br/></span></span></div><div><span style="font-size: 24pt; color: rgb(255, 70, 53);">Dialog：</span></div><div><span style="font-size: 24pt; color: rgb(255, 70, 53);">   </span><span style="font-size: 16pt;">普通对话框：</span><br/></div><div>    <img src="用户交互使用的控件以及Window：_files/Image [8].png" type="image/png" data-filename="Image.png" style="font-size: 16pt;"/><img src="用户交互使用的控件以及Window：_files/Image [9].png" type="image/png" data-filename="Image.png"/></div><div><span style="font-size: 16pt;">    </span></div><div><span style="font-size: 16pt;"> </span><span style="font-size: 16pt;">单选</span><span style="font-size: 16pt;">对话框：<br/></span></div><div><span style="font-size: 16pt;">  <img src="用户交互使用的控件以及Window：_files/Image [10].png" type="image/png" data-filename="Image.png" style="font-size: 16pt;"/><img src="用户交互使用的控件以及Window：_files/Image [11].png" type="image/png" data-filename="Image.png" style="font-size: 16pt;"/><br/></span></div><div><font style="font-size: 16pt;"><br/></font></div><div><font style="font-size: 16pt;"><br/></font></div><div><span style="font-size: 16pt;">     多选对话框：<br/></span></div><div><span style="font-size: 16pt;">   <img src="用户交互使用的控件以及Window：_files/Image [12].png" type="image/png" data-filename="Image.png" style="font-size: 16pt;"/><img src="用户交互使用的控件以及Window：_files/Image [13].png" type="image/png" data-filename="Image.png" style="font-size: 16pt;"/><br/></span></div><div><span style="font-size: 16pt;"> 进度对话框：<br/></span></div><div>        <img src="用户交互使用的控件以及Window：_files/Image [14].png" type="image/png" data-filename="Image.png" style="font-size: 16pt;"/><img src="用户交互使用的控件以及Window：_files/Image [15].png" type="image/png" data-filename="Image.png"/></div><div><span style="font-size: 16pt;">自定义对话框：<br/></span></div><div><br/></div><div><br/></div><div><img src="用户交互使用的控件以及Window：_files/Image [16].png" type="image/png" data-filename="Image.png" style="font-size: 16pt;"/></div><div><br/></div><div><img src="用户交互使用的控件以及Window：_files/Image [17].png" type="image/png" data-filename="Image.png" style="font-size: 16pt;"/></div><div><br/></div><div><span style="font-size: 24pt; color: rgb(255, 70, 53);">Notification：<a href="https://blog.csdn.net/vipzjyno1/article/details/25248021" style="font-size: 24pt; color: rgb(255, 70, 53);">https://blog.csdn.net/vipzjyno1/article/details/25248021</a></span></div><div><span style="font-size: 24pt; color: rgb(255, 70, 53);">   </span> <font style="font-size: 14pt;"><span style="font-size: 14pt;">notification实现的步骤：</span></font><br/></div><div><font style="font-size: 14pt;"><span style="font-size: 14pt;">           1.获取NotificationManager实例管理对象<br/></span></font></div><div><span style="background-color: rgb(204, 238, 208); font-size: 13.5pt; color: rgb(0, 0, 0); font-family: 宋体;">NotificationManager notifyManager = (NotificationManager) getSystemService(Context.</span><span style="background-color: rgb(204, 238, 208); font-size: 13.5pt; color: rgb(102, 14, 122); font-family: 宋体; font-style: italic; font-weight: bold;">NOTIFICATION_SERVICE</span><span style="background-color: rgb(204, 238, 208); font-size: 13.5pt; color: rgb(0, 0, 0); font-family: 宋体;">);</span></div><div><font style="font-size: 14pt;"><span style="font-size: 14pt;">           2.实例Notification对象<br/></span></font></div><div><span style="background-color: rgb(204, 238, 208); font-size: 13.5pt; color: rgb(0, 0, 0); font-family: 宋体;">NotificationCompat.Builder builder =</span> <span style="background-color: rgb(204, 238, 208); font-size: 13.5pt; color: rgb(0, 0, 128); font-family: 宋体; font-weight: bold;">new</span> <span style="background-color: rgb(204, 238, 208); font-size: 13.5pt; color: rgb(0, 0, 0); font-family: 宋体;">NotificationCompat.Builder(</span><span style="background-color: rgb(204, 238, 208); font-size: 13.5pt; color: rgb(0, 0, 128); font-family: 宋体; font-weight: bold;">this</span><span style="background-color: rgb(204, 238, 208); font-size: 13.5pt; color: rgb(0, 0, 0); font-family: 宋体;">)</span></div><div><font style="font-size: 14pt;"><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(246, 248, 250); font-size: 14pt; color: rgb(0, 0, 0); font-family: Consolas, Inconsolata, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal;">Notification notification= new NotificationCompat</span><span style="box-sizing: border-box; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 14pt; color: rgb(0, 153, 0); font-family: Consolas, Inconsolata, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal;">.Builder</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(246, 248, 250); font-size: 14pt; color: rgb(0, 0, 0); font-family: Consolas, Inconsolata, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal;">(Context)</span><span style="box-sizing: border-box; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 14pt; color: rgb(0, 153, 0); font-family: Consolas, Inconsolata, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal;">.build</span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(246, 248, 250); font-size: 14pt; color: rgb(0, 0, 0); font-family: Consolas, Inconsolata, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal;">()</span><span style="box-sizing: border-box; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: pre; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 14pt; color: rgb(136, 0, 0); font-family: Consolas, Inconsolata, Courier, monospace; font-variant-caps: normal; font-variant-ligatures: normal;">;</span></font></div><div>                <span style="font-size: 14pt;">3.管理事件Intent</span><br/></div><div><img src="用户交互使用的控件以及Window：_files/Image [18].png" type="image/png" data-filename="Image.png" style="font-size: 14pt;"/></div><div><span style="font-size: 14pt;">           4.发送通知</span></div><div><span style="font-size: 14pt; font-family: Consolas, &quot;Courier New&quot;, Courier, mono, serif;">    mNotificationManager.notify(notifyId, mBuilder.build());  </span><br/></div><div><img src="用户交互使用的控件以及Window：_files/Image [19].png" type="image/png" data-filename="Image.png" style="font-size: 24pt; color: rgb(255, 70, 53);"/> <img src="用户交互使用的控件以及Window：_files/Image [20].png" type="image/png" data-filename="Image.png"/></div><div><br/></div><div><img src="用户交互使用的控件以及Window：_files/Image [21].png" type="image/png" data-filename="Image.png"/></div><div><span style="font-size: 14pt;">有关PendingIntent的用法：<br/></span></div><div><img src="用户交互使用的控件以及Window：_files/Image [22].png" type="image/png" data-filename="Image.png"/></div><div><img src="用户交互使用的控件以及Window：_files/Image [23].png" type="image/png" data-filename="Image.png"/></div><div><img src="用户交互使用的控件以及Window：_files/Image [24].png" type="image/png" data-filename="Image.png"/></div><h1 style="margin: 8px 0px 16px; padding: 0px; box-sizing: border-box; text-align: start; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><span style="box-sizing: border-box; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 24pt; color: rgb(255, 70, 53); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-variant-caps: normal; font-variant-ligatures: normal; font-weight: normal; line-height: 36px;">Snackbar:</span></span></h1><div style="margin: 0px 0px 16px; padding: 0px; box-sizing: border-box; text-align: justify; word-wrap: break-word; word-break: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);"><font style="font-size: 14pt;"><span style="box-sizing: border-box; word-wrap: break-word; word-break: normal; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 14pt; color: rgb(79, 79, 79); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 26px;">这里调用Snackbar的make()方法来创建一个Snackbar对象，make()方法的第一个参数需要传入一个view，只要是当前界面布局的任意一个view都可以，Snackbar会使用这个view来自动查找最外层的布局，用于展示Snackbar。第二个参数就是Snackbar中显示的内容，第三个参数是Snackbar显示的时长。这些和Toast都是类似的。</span><span style="background-color: transparent; font-size: 14pt; color: rgb(79, 79, 79); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, SimHei, SimSun; font-variant-caps: normal; font-variant-ligatures: normal; line-height: 26px;">接着这里又调用了一个setAction()方法来设置一个动作，从而让Snackbar不仅仅是一个提示，而是可以和用户进行交互的。最后调用show()方法让Snackbar显示出来</span></font></div><div><img src="用户交互使用的控件以及Window：_files/Image [25].png" type="image/png" data-filename="Image.png" style="font-family: -apple-system; font-size: 24pt; color: rgb(255, 70, 53);"/><img src="用户交互使用的控件以及Window：_files/Image [26].png" type="image/png" data-filename="Image.png" style="font-family: -apple-system;"/></div><div><span style="text-align: center;"><span style="font-size: 24pt; color: rgb(255, 70, 53); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;">PopupWindow:</span></span></div><div><a href="https://blog.csdn.net/harvic880925/article/details/49272285" style="font-size: 24pt; color: rgb(255, 70, 53); font-family: -apple-system;">https://blog.csdn.net/harvic880925/article/details/49272285</a></div><div><span style="text-align: center;"><span style="font-size: 24pt; color: rgb(255, 70, 53); font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif;"> <img src="用户交互使用的控件以及Window：_files/Image [27].png" type="image/png" data-filename="Image.png" style="font-family: -apple-system; font-size: 24pt; color: rgb(255, 70, 53);"/></span></span></div><div><span style="text-align: center;"><span style="font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: 14pt;">    1.Popupwindow的相关函数</span></span><span style="text-align: center;"><span style="font-size: 24pt;"><br/></span></span></div><div><span style="text-align: center;"><span style="font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: 14pt;">        （1）.构造函数<br/></span></span></div><div><span style="text-align: center;"><span style="font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: 14pt;">            <img src="用户交互使用的控件以及Window：_files/Image [28].png" type="image/png" data-filename="Image.png" style="font-family: -apple-system; font-size: 14pt;"/><br/></span></span></div><div><span style="text-align: center;"><span style="font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: 14pt;">            (2).显示函数：<br/></span></span></div><div><span style="text-align: center;"><span style="font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif; font-size: 14pt;">                <img src="用户交互使用的控件以及Window：_files/Image [29].png" type="image/png" data-filename="Image.png" style="font-family: -apple-system; font-size: 14pt;"/><br/></span></span></div><div><br/></div></div><div><img src="用户交互使用的控件以及Window：_files/Image [30].png" type="image/png" data-filename="Image.png"/></div><div> <span style="font-size: 14pt;">   </span><span style="font-size: 14pt;">    3.设置popupwindow的进出动画</span><br/></div><div><span style="font-size: 14pt;">            （1）在anim文件夹目录下写进入退欧出的动画，<br/></span></div><div><span style="font-size: 14pt;">            （2）在style文件下写动画style</span><br/></div><div><span style="font-size: 14pt;">            （3）设置动画style：popwindow.setAnimationStyle(R.style.pop_anim);<br/></span></div><div><span style="font-size: 14pt;">   <img src="用户交互使用的控件以及Window：_files/Image [31].png" type="image/png" data-filename="Image.png" style="font-size: 14pt;"/><br/></span></div></span>
</div></body></html> 